---
import { Image } from "astro:assets";
import type { ComponentProps } from "../../../../../../globals/types/ComponentProps";
import type { TranslationsType } from "../../../../../../globals/types/Translations";
import bg from "../../../assets/imgs/v2/bg.jpg";
import stampGreenEN_Image from "../../../assets/imgs/stamp-green-en.png";
import stampYellowRo_Image from "../../../assets/imgs/stamp-yellow-ro.png";
import useCheckDesignVersion from "../../../../../../globals/composables/useCheckDesignVersion";

interface Props {
  componentProps: ComponentProps;
}
const { componentProps } = Astro.props;

useCheckDesignVersion(componentProps);

const titleV1: TranslationsType = {
  en: "",
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "¿Interesado en emprender un nuevo viaje comercial?", // Cysec
  sv: ``,
  pt: "",
  fi: "",
  pl: ``,
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const titleV2: TranslationsType = {
  en: "",
  it: "",
  tr: "",
  ro:
    componentProps.langType === "fsa"
      ? `Semnale de trading <span class="text-secondary">gratuite</span>`
      : "",
  ar: "",
  de: "",
  es: "¿Interesado en emprender un nuevo viaje comercial?",
  sv: ``,
  pt: "",
  fi: "",
  pl: ``,
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const paraV1: TranslationsType = {
  en: ``,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "Invertir en su conocimiento y la formación sobre el comercio es muy importante antes de comenzar su nuevo viaje. Por eso, FXORO ofrece una biblioteca educativa completa para apoyar mejor sus necesidades comerciales.",
  sv: ``,
  pt: "",
  fi: "",
  pl: ``,
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const paraV2Lead: TranslationsType = {
  en: ``,
  it: "",
  tr: "",
  ro:
    componentProps.langType === "fsa"
      ? `Identificarea oportunităților de tranzacționare este acum mai ușoară`
      : ``,
  ar: "",
  de: "",
  es: "",
  sv: ``,
  pt: "",
  fi: "",
  pl: ``,
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const paraV2: TranslationsType = {
  en: ``,
  it: "",
  tr: "",
  ro:
    componentProps.langType === "fsa"
      ? `Tranzacționarea se bazează pe semnale valide și eficiente. Într-un mediu extrem de competitiv și dur, timpul este totul. Alături de ${componentProps.brandObj.name}, vei primi semnale de tranzacționare direct pe telefonul mobil sau prin email.`
      : ``,
  ar: "",
  de: "",
  es: "",
  sv: ``,
  pt: "",
  fi: "",
  pl: ``,
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const stampPic: {
  en: ImageMetadata;
  it: ImageMetadata | null;
  tr: ImageMetadata | null;
  ro: ImageMetadata | null;
  ar: ImageMetadata | null;
  de: ImageMetadata | null;
  es: ImageMetadata | null;
  sv: ImageMetadata | null;
  pt: ImageMetadata | null;
  fi: ImageMetadata | null;
  pl: ImageMetadata | null;
  hu: ImageMetadata | null;
  th: ImageMetadata | null;
  ms: ImageMetadata | null;
  vi: ImageMetadata | null;
  [key: string]: ImageMetadata | null;
} = {
  en: stampGreenEN_Image,
  it: null,
  tr: null,
  ro: stampYellowRo_Image,
  ar: null,
  de: null,
  es: null,
  sv: null,
  pt: null,
  fi: null,
  pl: null,
  hu: null,
  th: null,
  ms: null,
  vi: null,
};
---

<section
  class="relative overflow-hidden border-y-[10px] border-[hsl(var(--secondary-dark))]"
>
  <Image
    src={bg}
    alt="Apple Laptop Diploma"
    class="absolute z-0 h-full w-full object-cover"
    widths={[320, 576, 640, 768, 1024, 1280, 1536, bg.width]}
    sizes={`
      (max-width: 320px) 576px,
      (max-width: 576px) 768px,
      (max-width: 768px) 1024px,
      (max-width: 1024px) 1536px,
      100vw
    `}
  />

  <div class="absolute z-10 h-full w-full bg-zinc-800/60"></div>
  <div class="container relative z-20 flex flex-col gap-4 lg:flex-row">
    <div
      class="relative z-20 flex grow items-center justify-center py-9 text-center lg:z-0 lg:w-[50%] lg:min-w-[50%] lg:justify-start lg:p-0 lg:text-start"
    >
      <div class="flex max-w-[75ch] flex-col gap-4 text-white lg:py-10">
        {
          componentProps.designVersion === "v1" && (
            <>
              <h1
                class="text-v3-heading1-tv1 font-bold leading-tight text-secondary"
                set:html={titleV1[componentProps.lang]}
              />
              <p class="text-start leading-tight">
                {/* <Image
                  src={stampPic[componentProps.lang] || stampPic.en}
                  alt="Apple Laptop Diploma"
                  class="float-end m-2 h-24 w-24 rotate-[20deg] object-fill"
                  widths={[
                    320,
                    576,
                    640,
                    768,
                    1024,
                    1280,
                    1536,
                    stampPic.en.width,
                  ]}
                  sizes={`
                    (max-width: 320px) 576px,
                    (max-width: 576px) 768px,
                    (max-width: 768px) 1024px,
                    (max-width: 1024px) 1536px,
                    100vw
                  `}
                /> */}
                <Fragment set:html={paraV1[componentProps.lang]} />{" "}
              </p>
            </>
          )
        }

        {
          componentProps.designVersion === "v2" && (
            <>
              <h1
                class="text-v3-heading1-tv1 uppercase leading-tight text-white"
                set:html={titleV2[componentProps.lang]}
              />
              <p class="text-start text-v3-paraLead-tv2 font-bold leading-tight text-secondary">
                <Fragment set:html={paraV2Lead[componentProps.lang]} />{" "}
              </p>
              <p class="text-start">
                <Image
                  src={stampPic[componentProps.lang] || stampPic.en}
                  alt="Apple Laptop Diploma"
                  class="float-end m-2 h-24 w-24 rotate-[20deg] object-fill md:-mt-5"
                  widths={[
                    320,
                    576,
                    640,
                    768,
                    1024,
                    1280,
                    1536,
                    stampPic.en.width,
                  ]}
                  sizes={`
                    (max-width: 320px) 576px,
                    (max-width: 576px) 768px,
                    (max-width: 768px) 1024px,
                    (max-width: 1024px) 1536px,
                    100vw
                  `}
                />
                <Fragment set:html={paraV2[componentProps.lang]} />
              </p>
            </>
          )
        }
      </div>
    </div>
  </div>
</section>

<style>
  @media (min-width: 1024px) {
    .fullBleedPrimary {
      box-shadow: 0 0 0 100vmax hsl(var(--primary));
      clip-path: inset(0 -100vmax);
    }
  }
</style>
