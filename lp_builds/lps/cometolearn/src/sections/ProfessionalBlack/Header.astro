---
import type { CustomOptions } from "@/pages/index.astro";
import { Image } from "astro:assets";
import Form from "../../../../../globals/components/Form/";
import MainLogo from "../../../../../globals/components/logos/MainLogo.astro";
import { type ComponentProps } from "../../../../../globals/types/ComponentProps";
import type { TranslationsType } from "../../../../../globals/types/Translations";
import bgImage from "../../assets/imgs/ProfessionalBlack/ctlBG.jpg";

interface Props {
  componentProps: ComponentProps<any, CustomOptions>;
}
const { componentProps } = Astro.props;

// Design version 1
const titleV1: TranslationsType = {
  en: `Get expert <span class="text-white uppercase font-normal">free</span> training on risk-free trading on the financial market`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const para1V1: TranslationsType = {
  en: `Get your FREE PDF guide and become the trading expert you always wanted to be.`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const para2V1: TranslationsType = {
  en: `<span class="font-bold">BONUS:</span> ${componentProps.brandObj.name} offers you an unique opportunity to trade and exercise your skills on a free demo account.`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const formTitleV1: TranslationsType = {
  en: `<span class="uppercase">Register now</span> to receive your <span class="uppercase font-bold">free pdf guide</span>`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const formButtonV1: TranslationsType = {
  en: `Get the trading courses`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

// Design version 2
const titleV2: TranslationsType = {
  en: `Start trading on the financial market with the support of educational tools`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const para1V2: TranslationsType = {
  en: `${componentProps.brandObj.name} offers you the opportunity to learn how to trade and improve your trading skills with the help of comprehensive educational materials.`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const formTitleV2: TranslationsType = {
  en: `Register to find out more`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};
const formButtonV2: TranslationsType = {
  en: `Get the trading courses`,
  it: "",
  tr: "",
  ro: "",
  ar: "",
  de: "",
  es: "",
  sv: "",
  pt: "",
  fi: "",
  pl: "",
  hu: "",
  th: "",
  ms: "",
  vi: "",
};

const formButtonFn = () => {
  switch (componentProps.designVersion) {
    case "v1":
      return formButtonV1;
    case "v2":
      return formButtonV2;

    default:
      return formButtonV1;
  }
};
const formButton = formButtonFn();
---

<header id="header" class="relative py-4 lg:pb-48">
  <Image
    src={bgImage}
    alt="Background"
    class="absolute left-0 top-0 z-0 h-full w-full object-cover md:object-fill"
    widths={[320, 576, 640, 768, 1024, 1280, 1536, bgImage.width]}
    sizes={`100vw`}
  />
  <div class="container relative z-10 flex flex-col gap-8 lg:flex-row">
    <div
      class="flex flex-col justify-start gap-4 text-white md:gap-8 lg:basis-1/2 lg:gap-16"
    >
      <MainLogo
        size={componentProps.brandObj.nameToLower}
        logo={componentProps.logo()}
        square={componentProps.customOptions?.logoSquare}
      />
      {
        componentProps.designVersion ? (
          <>
            {componentProps.designVersion === "v1" && (
              <h1
                set:html={titleV1[componentProps.lang]}
                class="text-professional-black-heading1 font-thin text-primary"
              />
            )}
            {componentProps.designVersion === "v2" && (
              <h1
                set:html={titleV2[componentProps.lang]}
                class="text-professional-black-heading1 font-thin text-primary"
              />
            )}
          </>
        ) : null
      }
      {
        componentProps.designVersion ? (
          <>
            {componentProps.designVersion === "v1" && (
              <div class="flex flex-col gap-4">
                <p
                  set:html={para1V1[componentProps.lang]}
                  class="text-professional-black-paraLead text-primary"
                />
                <p
                  set:html={para2V1[componentProps.lang]}
                  class="text-professional-black-paraLead"
                />
              </div>
            )}
            {componentProps.designVersion === "v2" && (
              <div class="flex flex-col gap-4">
                <p
                  set:html={para1V2[componentProps.lang]}
                  class="text-professional-black-paraLead text-white"
                />
              </div>
            )}
          </>
        ) : null
      }
    </div>
    <div class="lg:basis-1/2">
      <div
        class="mx-auto flex flex-col gap-6 bg-white p-6 shadow-lg lg:-mb-52 lg:max-w-[400px] lg:pb-20"
      >
        {
          componentProps.designVersion ? (
            <>
              {componentProps.designVersion === "v1" && (
                <h2
                  set:html={formTitleV1[componentProps.lang]}
                  class="text-center text-professional-black-formTitle"
                />
              )}
              {componentProps.designVersion === "v2" && (
                <h2
                  set:html={formTitleV2[componentProps.lang]}
                  class="text-center text-professional-black-formTitle"
                />
              )}
            </>
          ) : null
        }

        <Form
          componentProps={componentProps}
          button={formButton[componentProps.lang]}
          id="form1"
        />
      </div>
    </div>
  </div>
</header>

<style lang="scss">
  #header {
  }
</style>
